(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"39a0f1247e116b7f3b0f":function(e,t,n){"use strict";n.r(t);var a=n("8af190b70a6bc55c6f1b"),o=(n("8a2d1b95e05b6a321e74"),n("d7dd51e1bf6bfc2c9c3d")),i=n("0d7f0986bcd2f33d8a2a"),r=n("ab039aecd4a1d4fedc0e"),c=n("a28fc3c963a1d4d1a2e5"),s=n("bd183afcc37eabd79225"),u=n.n(s),d=n("e95a63b25fb92ed15721"),l=n("7286e4d32da69e8d8af9");n("5ef9de3df8d92ea0e41c"),n("f2873ecf7390fe7d7c89"),n("5fa3f8487e09c6182715"),n("f3b0ff1628e56352bcbf"),n("a1cf5d6fa4ed65a6ddd5"),n("6a4f9c383785f9168266"),n("d3a850c4000d77bccc89");n("491cc2e27aa2b4221847");n("7edf83707012a871cdfb");var f={},b=function(e){return e.infraCurrency||f},p=function(){return Object(c.a)(b,function(e){return e})};Object(r.defineMessages)({header:{id:"".concat("app.containers.InfraCurrency",".header"),defaultMessage:"This is the InfraCurrency container!"}});var m,g=n("5eab5618c2f7cb367580"),h=n("f318ce6ba0668e624433"),v=n("b9a4675f3a31731e3871"),y=(n("d4645642fe31e65af398"),n("0b036161fbb62d587aed"),n("c62184e16136b13faf11"),n("edda6002988d22cf0116"),n("0d02ea6f9c8f088e4ee6")),k=n("041021065ead6515c7e1"),w=n("fa2ce0da44cf966bc1d9"),S=(n("3cfc5fe5ae5fc3fb28ab"),n("a5a6067b351c18817e3b"),n("b7427a1bef7d4198bad2"),n("1338cbe09bd1ccd2eec5"),n("2ef0388ad848e10584a5"),n("435859b6b76fb67a754a")),O=n.n(S),P=n("6938d226fd372a75cbf9"),C=n("fcb99a06256635f70435"),D=n("c7fd554010f79f6c0ef8"),j=n.n(D),A=n("2aea235afd5c55b8b19b"),I=n.n(A),_=n("63bac7d5ea40ecc9ba06"),x=n.n(_),E=(n("18fd55adb10446515347"),n("164ea4e0f79703e94815"));function B(e){return(B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(e,t,n,a){m||(m="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var r in o)void 0===t[r]&&(t[r]=o[r]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:m,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){H(e,t,n[t])})}return e}function N(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}l.toast.configure({position:"bottom-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});var J=localStorage.getItem("logged"),U=localStorage.getItem("isAdmin"),X=[{value:"USD",label:"$"},{value:"EUR",label:"\u20ac"},{value:"BTC",label:"\u0e3f"},{value:"JPY",label:"\xa5"},{value:"XOF",label:"XOF"}],$=T(k.a,{fullPage:!0}),z=T(d.Redirect,{to:"/"}),V=T(i.Helmet,{},void 0,T("meta",{charSet:"utf-8"}),T("title",{},void 0,"Banks | INFRA | E-WALLET")),Y=T(h.a,{active:""}),q=T("h1",{},void 0,"Add Denomination"),G=function(e){function t(){var e,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=R(t).call(this),e=!a||"object"!==B(a)&&"function"!==typeof a?L(n):a,H(L(e),"success",function(){return l.toast.success(e.state.notification)}),H(L(e),"error",function(){return l.toast.error(e.state.notification)}),H(L(e),"warn",function(){return l.toast.warn(e.state.notification)}),H(L(e),"handleInputChange",function(t){var n=t.target,a=n.value,o=n.name;e.setState(H({},o,a))}),H(L(e),"showPopup",function(){e.setState({popup:!0})}),H(L(e),"closePopup",function(){e.setState({popup:!1,addDemoninationPopup:!1,showEditOtp:!1,name:"",mobile:"",email:"",username:"",ccode:"",password:""})}),H(L(e),"closeAddDenominationPopup",function(){e.setState({addDenominationPopup:!1})}),H(L(e),"logout",function(){localStorage.removeItem("logged"),localStorage.removeItem("name"),e.setState({redirect:!0})}),H(L(e),"removeFile",function(t){e.setState(H({},t,null))}),H(L(e),"triggerBrowse",function(e){document.getElementById(e).click()}),H(L(e),"getBanks",function(){u.a.post("".concat(C.a,"/getBank"),{token:J,bank_id:e.props.match.params.bank}).then(function(t){var n;200==t.status&&e.setState((H(n={loading:!1,banks:t.data.banks,logo:t.data.banks.logo,name:t.data.banks.name,address1:t.data.banks.address1,state:t.data.banks.state,zip:t.data.banks.zip,country:t.data.banks.country,ccode:t.data.banks.ccode,mobile:t.data.banks.mobile,email:t.data.banks.email},"logo",t.data.banks.logo),H(n,"contract",t.data.banks.contract),H(n,"username",t.data.banks.contract),H(n,"bank_id",t.data.banks._id),H(n,"username",t.data.banks.username),n))}).catch(function(e){})}),H(L(e),"getProfile",function(){u.a.post("".concat(C.a,"/getProfile"),{token:J}).then(function(t){200==t.status&&e.setState({loading:!1,profile:t.data.users,name:t.data.users.name,username:t.data.users.username,email:t.data.users.email,mobile:t.data.users.mobile,ccode:t.data.users.ccode},function(){console.log(e.state.profile)})}).catch(function(e){})}),H(L(e),"handleChange",function(t){return function(n){e.setState(H({},t,n.target.value))}}),H(L(e),"showAddDenominationPopup",function(){e.setState({addDenominationPopup:!0})}),H(L(e),"saveCurrency",function(){var t=e.state,n=t.currency,a=t.denomination;t.notification;u.a.post("".concat(C.a,"/save-currency"),{value:n,denomination:a}).then(function(t){console.log(t),e.success()}).catch(function(e){console.log(e)}),e.setState({addDenominationPopup:!1,notification:"Denomination Added"})}),e.state={addDenominationPopup:!1,denomination:[],infraID:"",bank:"",name:"",username:"",password:"",mobile:"",email:"",ccode:"",loading:!0,redirect:!1,notification:"Welcome",popup:!1,user_id:J,banks:[],rules:[],otp:"",profile:[],permissions:{},showOtp:!1,currency:"XOF"},e.success=e.success.bind(L(e)),e.error=e.error.bind(L(e)),e.warn=e.warn.bind(L(e)),e.onChange=e.onChange.bind(L(e)),e}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,a["Component"]),n=t,(o=[{key:"onChange",value:function(e){e.target.files&&null!=e.target.files[0]&&this.fileUpload(e.target.files[0],e.target.getAttribute("data-key"))}},{key:"componentDidMount",value:function(){var e=this;this.setState({bank:this.props.match.params.bank}),void 0!==J&&null!==J&&("true"==U?this.setState({permissions:"all"}):u.a.post("".concat(C.a,"/getPermission"),{token:J}).then(function(t){200==t.status&&e.setState({permissions:t.data.permissions},function(){console.log(e.state.permissions)})}).catch(function(e){console.log(e)}),this.getProfile()),u.a.get("".concat(C.a,"/get-currency")).then(function(t){console.log(t),0!=t.data.length&&e.setState(function(e){return M({},e,{denomination:t.data[0].denomination,currency:t.data[0].value})})}).catch(function(e){console.log(e.messages)})}},{key:"render",value:function(){var e=this,t=this.props.classes;var n=this.state,a=n.loading,o=n.redirect;return a?$:o?z:T(g.a,{},void 0,V,Y,T(v.a,{verticalMargin:!0},void 0,T(E.a,{infraID:this.state.infraID,active:"currency"}),T("form",{className:t.container,noValidate:!0,autoComplete:"off"},void 0,T(j.a,{id:"outlined-select-currency",select:!0,label:"Select",className:t.textField,value:this.state.currency,onChange:function(t){var n=t.target.value;e.setState({currency:n})},SelectProps:{MenuProps:{className:t.menu}},margin:"normal",variant:"outlined"},void 0,X.map(function(e){return T(x.a,{value:e.value},e.value,e.label)}))),T("div",{},void 0,T(y.a,{filledBtn:!0,onClick:this.showAddDenominationPopup,style:{color:"white",background:"#417505",margin:"3%",minWidth:"20%"}},void 0,"Show Denomination"))),this.state.addDenominationPopup?T(w.a,{close:this.closeAddDenominationPopup.bind(this),accentedH1:!0},void 0,q,T("form",{style:{padding:"4% 0 7% 0"},onSubmit:!0},void 0,T(O.a,{container:!0,spacing:8},void 0,T(O.a,{item:!0},void 0,T(I.a,{variant:"outlined",onClick:function(){e.setState(function(e){return M({},e,{denomination:[].concat(F(e.denomination),[" "])})})}},void 0,"Add more")),this.state.denomination.map(function(n,a){return T(O.a,{item:!0,xs:12,container:!0,alignItems:"center",spacing:8},"text-field-".concat(a),T(O.a,{item:!0,xs:9},void 0,T(j.a,{label:"Number",value:n,onChange:function(t){var n=t.target.value,o=e.state.denomination;o[a]=Number(n),e.setState(function(e){return M({},e,{denomination:o})})},type:"number",className:t.textFieldModal,InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"})),T(O.a,{item:!0,xs:3},void 0,T(I.a,{onClick:function(){var t=e.state.denomination;t.splice(a,1),e.setState(function(e){return M({},e,{denomination:t})})}},void 0,"Delete")))})),T(y.a,{filledBtn:!0,type:"button",onClick:this.saveCurrency,style:{color:"white",background:"#417505",marginTop:"10%"}},void 0,"Add Denomination"))):null)}}])&&N(n.prototype,o),i&&N(n,i),t}(),K=Object(c.b)({infraCurrency:p()});Object(o.connect)(K,function(e){return{dispatch:e}}),t.default=Object(P.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"70%"},textFieldModal:{width:"100%"},dense:{marginTop:16},menu:{width:200}}})(G)}}]);
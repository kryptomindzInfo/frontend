(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"8a5be19bb14f68e7ef19":function(t,e,a){"use strict";a.r(e);var o,n=a("8af190b70a6bc55c6f1b"),r=a.n(n),i=a("bd183afcc37eabd79225"),c=a.n(i),s=a("0d7f0986bcd2f33d8a2a"),d=a("7286e4d32da69e8d8af9"),p=a("0b3cb19af78752326f59"),u=a("ab039aecd4a1d4fedc0e"),l=a("5eab5618c2f7cb367580"),f=a("d8177b52ec3b30c23986"),g=a("b9a4675f3a31731e3871"),h=a("56dae34f294aa29bb48a"),b=a("0b036161fbb62d587aed"),v=a("edda6002988d22cf0116"),m=a("0d02ea6f9c8f088e4ee6"),y=a("885b9f33a5ccdc168660"),w=a("3cfc5fe5ae5fc3fb28ab"),k=a("a5a6067b351c18817e3b"),S=a("1338cbe09bd1ccd2eec5"),M=a("041021065ead6515c7e1"),B=a("2ef0388ad848e10584a5"),O="boilerplate.containers.BankPage",P=Object(u.defineMessages)({search:{id:"".concat("boilerplate.containers.All",".search"),defaultMessage:""},addbank:{id:"".concat(O,".addbank"),defaultMessage:""},title:{id:"".concat(O,".title"),defaultMessage:""},subtitle:{id:"".concat(O,".subtitle"),defaultMessage:""},th1:{id:"".concat(O,".th1"),defaultMessage:""},th2:{id:"".concat(O,".th2"),defaultMessage:""},th3:{id:"".concat(O,".th3"),defaultMessage:""},th4:{id:"".concat(O,".th4"),defaultMessage:""},th5:{id:"".concat(O,".th5"),defaultMessage:""},menu1:{id:"".concat(O,".menu1"),defaultMessage:""},menu2:{id:"".concat(O,".menu2"),defaultMessage:""},menu3:{id:"".concat(O,".menu3"),defaultMessage:""},popup1:{id:"".concat(O,".popup1"),defaultMessage:""},popup2:{id:"".concat(O,".popup2"),defaultMessage:""},popup3:{id:"".concat(O,".popup3"),defaultMessage:""},popup4:{id:"".concat(O,".popup4"),defaultMessage:""},popup5:{id:"".concat(O,".popup5"),defaultMessage:""},popup6:{id:"".concat(O,".popup6"),defaultMessage:""},popup7:{id:"".concat(O,".popup7"),defaultMessage:""},popup8:{id:"".concat(O,".popup8"),defaultMessage:""},popup9:{id:"".concat(O,".popup9"),defaultMessage:""},popup10:{id:"".concat(O,".popup10"),defaultMessage:""},verify:{id:"".concat(O,".verify"),defaultMessage:""},otp:{id:"".concat(O,".otp"),defaultMessage:""}}),_=a("fcb99a06256635f70435");a("18fd55adb10446515347");function D(t){return(D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e,a,n){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),e&&r)for(var c in r)void 0===e[c]&&(e[c]=r[c]);else e||(e=r||{});if(1===i)e.children=n;else if(i>1){for(var s=new Array(i),d=0;d<i;d++)s[d]=arguments[d+3];e.children=s}return{$$typeof:o,type:t,key:void 0===a?null:""+a,ref:null,props:e,_owner:null}}function x(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"default",function(){return q}),d.toast.configure({position:"bottom-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});p.c.div.withConfig({displayName:"BankDocuments__Tab",componentId:"so4ydz-0"})(["background:",";width:194px;padding:15px;float:left;border:1px solid ",";color:#fff;font-size:20px;"],function(t){return t.theme.primary},function(t){return t.theme.primary}),p.c.div.withConfig({displayName:"BankDocuments__Tab2",componentId:"so4ydz-1"})(["float:left;width:194px;border:1px solid ",";color:",";font-size:20px;padding:15px;"],function(t){return t.theme.primary},function(t){return t.theme.primary});var A=localStorage.getItem("bankLogged"),U=localStorage.getItem("bankId");console.log(U);var j=E(M.a,{fullPage:!0}),z=E(s.Helmet,{},void 0,E("meta",{charSet:"utf-8"}),E("title",{},void 0,"Banks | INFRA | E-WALLET")),N=E(f.a,{}),L=E(h.a,{active:"documents"}),J=E("h3",{},void 0,"FILES"),H=E("span",{},void 0,"100"),R=E("span",{},void 0,"Decline"),W=E("span",{},void 0,"Approve"),q=function(t){function e(){var t,a,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a=this,o=C(e).call(this),t=!o||"object"!==D(o)&&"function"!==typeof o?F(a):o,T(F(t),"success",function(){return d.toast.success(t.state.notification)}),T(F(t),"error",function(){return d.toast.error(t.state.notification)}),T(F(t),"warn",function(){return d.toast.warn(t.state.notification)}),T(F(t),"handleInputChange",function(e){var a=e.target,o=a.value,n=a.name;t.setState(T({},n,o))}),T(F(t),"showMiniPopUp",function(e){t.setState({popup:!0});var a=e.target.getAttribute("data-id"),o=e.target.getAttribute("data-d");console.log(a);var n=o.split("^");t.setState({popname:n[0],poptype:n[1],poprange:n[2],poppercent:n[3],sid:a})}),T(F(t),"closeMiniPopUp",function(){t.setState({popup:!1,name:"",address1:"",state:"",zip:"",ccode:"",country:"",email:"",mobile:"",logo:null,contract:null,otp:"",showOtp:!1})}),T(F(t),"logout",function(){localStorage.removeItem("logged"),localStorage.removeItem("name"),t.setState({redirect:!0})}),T(F(t),"addBank",function(e){e.preventDefault(),c.a.post("".concat(_.a,"/generateOTP"),{name:t.state.name,mobile:t.state.mobile,page:"addBank",token:A}).then(function(e){if(200!=e.status)throw new Error(e.data.error);if(e.data.error)throw e.data.error;t.setState({showOtp:!0,notification:"OTP Sent"}),t.success()}).catch(function(e){t.setState({notification:e.response?e.response.data.error:e.toString()}),t.error()})}),T(F(t),"approve",function(e){e.preventDefault(),c.a.post("".concat(_.a,"/approveFee"),{id:t.state.sid,token:A}).then(function(e){if(200!=e.status)throw new Error(e.data.error);if(e.data.error)throw e.data.error;t.setState({notification:"Approved"}),t.success()}).catch(function(e){t.setState({notification:e.response?e.response.data.error:e.toString()}),t.error()})}),T(F(t),"decline",function(e){e.preventDefault(),c.a.post("".concat(_.a,"/declineFee"),{id:t.state.sid,token:A}).then(function(e){if(200!=e.status)throw new Error(e.data.error);if(e.data.error)throw e.data.error;t.setState({notification:"Declined"}),t.success()}).catch(function(e){t.setState({notification:e.response?e.response.data.error:e.toString()}),t.error()})}),T(F(t),"showWallet",function(t){t.preventDefault()}),T(F(t),"verifyOTP",function(e){e.preventDefault(),c.a.post("".concat(_.a,"/addBank"),{name:t.state.name,address1:t.state.address1,state:t.state.state,zip:t.state.zip,country:t.state.country,ccode:t.state.ccode,email:t.state.email,mobile:t.state.mobile,logo:t.state.logo,contract:t.state.contract,otp:t.state.otp,token:A}).then(function(e){if(200!=e.status)throw new Error(e.data.error);if(e.data.error)throw e.data.error;t.setState({notification:"Bank added successfully!"}),t.success(),t.closeMiniPopUp(),t.getBanks()}).catch(function(e){t.setState({notification:e.response?e.response.data.error:e.toString()}),t.error()})}),T(F(t),"removeFile",function(e){t.setState(T({},e,null))}),T(F(t),"triggerBrowse",function(t){document.getElementById(t).click()}),T(F(t),"getBanks",function(){}),T(F(t),"getRules",function(){c.a.post("".concat(_.a,"/getBankRules"),{bank_id:t.state.bank}).then(function(e){200==e.status&&t.setState({rules:e.data.rules})}).catch(function(t){})}),T(F(t),"getDocs",function(){c.a.post("".concat(_.a,"/getDocs"),{bank_id:t.state.bank_id}).then(function(e){200==e.status&&t.setState({loading:!1,docs:e.data.docs},function(){console.log(this.state.docs)})}).catch(function(t){})}),t.state={sid:"",bank:U,bank_id:U,name:"",address1:"",popname:"",poprange:"",poptype:"",poppercent:"",state:"",zip:"",country:"",ccode:"",mobile:"",email:"",logo:null,contract:null,loading:!0,redirect:!1,totalBanks:0,notification:"Welcome",popup:!1,user_id:A,banks:[],rules:[],docs:[],otp:"",showOtp:!1},t.success=t.success.bind(F(t)),t.error=t.error.bind(F(t)),t.warn=t.warn.bind(F(t)),t.showMiniPopUp=t.showMiniPopUp.bind(F(t)),t.onChange=t.onChange.bind(F(t)),t.fileUpload=t.fileUpload.bind(F(t)),t}var a,o,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(e,n["Component"]),a=e,(o=[{key:"onChange",value:function(t){t.target.files&&null!=t.target.files[0]&&this.fileUpload(t.target.files[0],t.target.getAttribute("data-key"))}},{key:"fileUpload",value:function(t,e){var a=this,o=new FormData;o.append("file",t);c.a.post("".concat(_.a,"/fileUpload?token=").concat(A),o,{headers:{"content-type":"multipart/form-data"}}).then(function(t){if(200!=t.status)throw t.data.error;if(t.data.error)throw t.data.error;a.setState(T({},e,t.data.name))}).catch(function(t){a.setState({notification:t.response?t.response.data.error:t.toString()}),a.error()})}},{key:"componentDidMount",value:function(){void 0!==A&&null!==A&&(this.getBanks(),this.getDocs())}},{key:"render",value:function(){var t=this.state,e=t.loading,a=t.redirect;if(e)return j;if(a)return null;var o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return E(l.a,{from:"bank"},void 0,z,N,E(g.a,{verticalMargin:!0},void 0,L,E(b.a,{},void 0,E(v.a,{bigPadding:!0},void 0,E("div",{className:"cardBody clr"},void 0,J,this.state.docs&&this.state.docs.length>0?this.state.docs.map(function(t){var e=t.contract.replace(/^.*[\\\/]/,""),a=(t.contract.split(".").pop(),"".concat(_.d,"main/pdf-icon.png")),n=t.created_at,r=new Date(n),i=r.getMonth(),c=r.getDay(),s=r.getFullYear(),d=r.getHours(),p=r.getMinutes(),u=o[i],l="".concat(c," ").concat(u," ").concat(s," ").concat(d,":").concat(p);return E(v.a,{blueHover:!0,col:!0,horizontalMargin:"10px",cardWidth:"192px",className:"doc"},t._id,E("a",{href:_.b+t.contract,target:"_blank"},void 0,E("div",{className:"profile"},void 0,E("img",{src:a})),E("h4",{className:"hhh"},void 0,e),E("h4",{className:"hhhh"},void 0,l)))}):null)))),this.state.popup?E(y.a,{close:this.closeMiniPopUp.bind(this)},void 0,this.state.showOtp?E("div",{},void 0,E("h1",{},void 0,r.a.createElement(u.FormattedMessage,P.verify)),E("form",{},void 0,E(w.a,{},void 0,E("label",{},void 0,r.a.createElement(u.FormattedMessage,P.otp),"*"),E(k.a,{type:"text",name:"otp",onFocus:function(t){t.target.parentElement.querySelector("label").classList.add("focused")},onBlur:function(t){var e=t.target;""==e.value&&e.parentElement.querySelector("label").classList.remove("focused")},value:this.state.otp,onChange:this.handleInputChange,required:!0})),E(m.a,{filledBtn:!0,marginTop:"50px"},void 0,E("span",{},void 0,r.a.createElement(u.FormattedMessage,P.verify))))):E("div",{},void 0,E("form",{},void 0,E("p",{},void 0,E("span",{id:"popname"},void 0,this.state.popname)),E("p",{},void 0," ","Sending from ",E("span",{id:"poptype"},void 0,this.state.poptype)),E("p",{},void 0," ","Transaction range",E("span",{id:"poprange"},void 0,this.state.poprange)),E("p",{},void 0," ","Fee ",E("span",{id:"poppercent"},void 0,this.state.poppercent)," ","\xa0 \xa0 Priority: ",H),E(S.a,{},void 0,E(B.a,{},void 0,E(w.a,{},void 0,E(m.a,{filledBtn:!0,marginTop:"50px",accentedBtn:!0,onClick:this.decline},void 0,R))),E(B.a,{},void 0,E(w.a,{},void 0,E(m.a,{filledBtn:!0,marginTop:"50px",onClick:this.approve},void 0,W))))))):null)}}])&&x(a.prototype,o),i&&x(a,i),e}()}}]);
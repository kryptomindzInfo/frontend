(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{d764f064742ecea93062:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return H});var o,n=a("8af190b70a6bc55c6f1b"),r=a.n(n),i=(a("bd183afcc37eabd79225"),a("e95a63b25fb92ed15721")),c=a("0d7f0986bcd2f33d8a2a"),s=a("7286e4d32da69e8d8af9"),d=a("ab039aecd4a1d4fedc0e"),u=a("7b9702807589922aac12"),l=a("5eab5618c2f7cb367580"),f=a("8ac34887ece117b1abe9"),b=a("365f1f0df0c7eb1c6a39"),m=a("6fa8358498da34119718"),p=a("c0da21c8c30564c60a72"),g=a("14565c619a2b4ffb4425"),v=a("4a58ef70613a2768a6b0"),h=a("3cfc5fe5ae5fc3fb28ab"),y=a("a5a6067b351c18817e3b"),w=a("c6ab63ffe46a1a0d4ebc"),S=a("1338cbe09bd1ccd2eec5"),k=a("2ef0388ad848e10584a5"),I=a("80305d31256481b97990"),O=a("041021065ead6515c7e1"),E=a("e8dc0c42b7e4d57650ea");a("fcb99a06256635f70435"),a("18fd55adb10446515347");function P(e){return(P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t,a,n){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var c in r)void 0===t[c]&&(t[c]=r[c]);else t||(t=r||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),d=0;d<i;d++)s[d]=arguments[d+3];t.children=s}return{$$typeof:o,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function L(e,t,a,o,n,r,i){try{var c=e[r](i),s=c.value}catch(e){return void a(e)}c.done?t(s):Promise.resolve(s).then(o,n)}function M(e){return function(){var t=this,a=arguments;return new Promise(function(o,n){var r=e.apply(t,a);function i(e){L(r,o,n,i,c,"next",e)}function c(e){L(r,o,n,i,c,"throw",e)}i(void 0)})}}function C(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}s.toast.configure({position:"bottom-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});var q=localStorage.getItem("bankLogged"),T=_(O.a,{fullPage:!0}),B=_(i.Redirect,{to:"/dashboard"}),N=_(c.Helmet,{},void 0,_("meta",{charSet:"utf-8"}),_("title",{},void 0,"E-WALLET | BANK | SIGNUP")),A=_(f.a,{from:"bank"}),U=_(w.a,{disabled:!0},void 0,_(O.a,{})),D=_(k.a,{}),H=function(e){function t(){var e,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,o=j(t).call(this),e=!o||"object"!==P(o)&&"function"!==typeof o?F(a):o,x(F(e),"success",function(){return s.toast.success(e.state.notification)}),x(F(e),"error",function(){return s.toast.error(e.state.notification)}),x(F(e),"warn",function(){return s.toast.warn(e.state.notification)}),x(F(e),"handleInputChange",function(t){var a=t.target,o=a.value,n=a.name;e.setState(x({},n,o.trim()))}),x(F(e),"loginRequest",function(){var t=M(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.setState({loginLoading:!0},M(regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(E.b)("bankLogin",q,e.state);case 2:a=t.sent,localStorage.setItem("bankLogged",a.data.data.token),localStorage.setItem("bankName",a.data.data.name),localStorage.setItem("bankUserName",a.data.data.username),localStorage.setItem("bankContract",a.data.data.contract),localStorage.setItem("bankLogo",a.data.data.logo),localStorage.setItem("bankId",a.data.data.id),localStorage.setItem("bankPhone",a.data.data.mobile),console.log(localStorage.getItem("bankLogged")),console.log(a),0==a.data.data.status&&"Incorrect username or password"===a.data.data.message?s.toast.error(a.data.data.message):a.data.data.initial_setup?a.data.data.status&&0!=a.data.data.status&&""!=a.data.data.status?window.location.href="/bank/dashboard":window.location.href="/bank/activate":window.location.href="/bank/setup";case 13:case"end":return t.stop()}},t)})));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),e.state={username:"",password:"",notification:"",loading:!0,redirect:!1},e.error=e.error.bind(F(e)),e}var a,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,n["Component"]),a=t,(o=[{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted&&this.setState({loading:!1})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){function e(e){e.target.parentElement.querySelector("label").classList.add("focused")}function t(e){var t=e.target;""==t.value&&t.parentElement.querySelector("label").classList.remove("focused")}var a=this.state,o=a.loading,n=a.redirect;return o?T:n?B:_(l.a,{},void 0,N,A,_(b.a,{},void 0,_(m.a,{},void 0,r.a.createElement(d.FormattedMessage,u.a.pagetitle)),_(p.a,{},void 0,r.a.createElement(d.FormattedMessage,u.a.title)),_(g.a,{},void 0,r.a.createElement(d.FormattedMessage,u.a.subtitle2)),_("form",{action:"",method:"POST",onSubmit:this.loginRequest},void 0,_(v.a,{},void 0,_(h.a,{},void 0,_("label",{},void 0,r.a.createElement(d.FormattedMessage,u.a.userid),"*"),_(y.a,{type:"text",name:"username",onFocus:e,onBlur:t,value:this.state.username,onChange:this.handleInputChange,required:!0})),_(h.a,{},void 0,_("label",{},void 0,r.a.createElement(d.FormattedMessage,u.a.password),"*"),_(y.a,{type:"password",name:"password",onFocus:e,onBlur:t,value:this.state.password,onChange:this.handleInputChange,required:!0}))),this.loginLoading?U:_(w.a,{},void 0,r.a.createElement(d.FormattedMessage,u.a.pagetitle))),_(S.a,{marginTop:!0},void 0,D,_(k.a,{textRight:!0},void 0,_(I.a,{href:"/bank/forgot-password"},void 0,r.a.createElement(d.FormattedMessage,u.a.forgotpassword))))))}}])&&C(a.prototype,o),i&&C(a,i),t}()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"0b8eb3e35929778b339a":function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return V});var n,o=a("8af190b70a6bc55c6f1b"),r=a.n(o),i=(a("bd183afcc37eabd79225"),a("e95a63b25fb92ed15721")),s=a("0d7f0986bcd2f33d8a2a"),c=a("7286e4d32da69e8d8af9"),u=a("ab039aecd4a1d4fedc0e"),d=a("5eab5618c2f7cb367580"),l=a("041021065ead6515c7e1"),f=a("8ac34887ece117b1abe9"),b=a("365f1f0df0c7eb1c6a39"),p=a("6fa8358498da34119718"),v=a("c0da21c8c30564c60a72"),m=a("14565c619a2b4ffb4425"),g=a("4a58ef70613a2768a6b0"),h=a("3cfc5fe5ae5fc3fb28ab"),y=a("a5a6067b351c18817e3b"),w=a("c6ab63ffe46a1a0d4ebc"),S=a("1338cbe09bd1ccd2eec5"),O=a("2ef0388ad848e10584a5"),k=a("80305d31256481b97990"),E=a("7b9702807589922aac12"),I=a("e8dc0c42b7e4d57650ea"),P=a("9f100a413d2aaf9e0ca5"),x=a.n(P),C=a("fe0b34a58afc62cf66c2"),j=a.n(C),R=a("c7fd554010f79f6c0ef8"),_=a.n(R);a("18fd55adb10446515347");function F(e){return(F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t,a,o){n||(n="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:n,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function M(e,t,a,n,o,r,i){try{var s=e[r](i),c=s.value}catch(e){return void a(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function q(e){return function(){var t=this,a=arguments;return new Promise(function(n,o){var r=e.apply(t,a);function i(e){M(r,n,o,i,s,"next",e)}function s(e){M(r,n,o,i,s,"throw",e)}i(void 0)})}}function A(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}c.toast.configure({position:"bottom-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),localStorage.removeItem("logged");var H=localStorage.getItem("logged"),J=L(l.a,{fullPage:!0}),$=L(i.Redirect,{to:"/dashboard"}),G=L(s.Helmet,{},void 0,L("meta",{charSet:"utf-8"}),L("title",{},void 0,"E-WALLET | INFRA | SIGNIN")),W=L(f.a,{from:"infra"}),z=L(x.a,{}),K=L(j.a,{}),Q=L(w.a,{disabled:!0},void 0,L(l.a,{})),U=L(O.a,{}),V=function(e){function t(){var e,a,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,n=T(t).call(this),e=!n||"object"!==F(n)&&"function"!==typeof n?N(a):n,D(N(e),"success",function(){return c.toast.success(e.state.notification)}),D(N(e),"error",function(){return c.toast.error(e.state.notification)}),D(N(e),"warn",function(){return c.toast.warn(e.state.notification)}),D(N(e),"handleInputChange",function(t){var a=t.target,n=a.value,o=a.name;e.setState(D({},o,n))}),D(N(e),"loginRequest",function(){var t=q(regeneratorRuntime.mark(function t(a){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loginLoading:!0}),t.next=4,Object(I.b)("login",H,e.state);case 4:0===(n=t.sent).data.data.status&&"Incorrect username or password"===n.data.data.message?c.toast.error(n.data.data.message):(localStorage.setItem("logged",n.data.data.token),localStorage.setItem("name",n.data.data.name),localStorage.setItem("isAdmin",n.data.data.isAdmin),window.location.href="/dashboard"),e.setState({loginLoading:!1});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),e.state={username:"",password:"",notification:"",loading:!0,redirect:!1,passwordtype:"password",visiblity:!1},e.error=e.error.bind(N(e)),e}var a,n,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,o["Component"]),a=t,(n=[{key:"componentDidMount",value:function(){var e=q(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===H||null===H){e.next=4;break}this.setState({loading:!1,redirect:!0}),e.next=10;break;case 4:return e.next=6,Object(I.a)("checkInfra",H,{});case 6:t=e.sent,console.log(t),t.data.data.infras<=0&&this.props.history.push("/setup"),this.setState({loading:!1});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;var t=this.state,a=t.loading,n=t.redirect;return a?J:n?$:(console.log(this.state.passwordtype),L(d.a,{},void 0,G,W,L(b.a,{},void 0,L(p.a,{},void 0,r.a.createElement(u.FormattedMessage,E.a.pagetitle)),L(v.a,{},void 0,r.a.createElement(u.FormattedMessage,E.a.title)),L(m.a,{},void 0,r.a.createElement(u.FormattedMessage,E.a.subtitle)),L("form",{action:"",method:"POST",onSubmit:this.loginRequest},void 0,L(g.a,{},void 0,L(h.a,{},void 0,L("label",{},void 0,r.a.createElement(u.FormattedMessage,E.a.userid),"*"),L(y.a,{type:"text",name:"username",onFocus:function(e){e.target.parentElement.querySelector("label").classList.add("focused")},onBlur:function(e){var t=e.target;""==t.value&&t.parentElement.querySelector("label").classList.remove("focused")},value:this.state.username.trim().toLowerCase(),onChange:this.handleInputChange,required:!0})),L(h.a,{},void 0,L("div",{style:{backgroundColor:""}},void 0,L(_.a,{name:"password",label:"Password",style:{width:"100%"},value:this.state.password,type:this.state.visiblity?"text":"password",margin:"normal",variant:"outlined",onChange:this.handleInputChange,required:!0}),L("span",{onClick:function(){e.setState({visiblity:!e.state.visiblity})},style:{position:"relative",top:"-40px",left:"90%"}},void 0,L("i",{},void 0,this.state.visiblity?z:K))))),this.loginLoading?Q:L(w.a,{},void 0,r.a.createElement(u.FormattedMessage,E.a.pagetitle))),L(S.a,{marginTop:!0},void 0,U,L(O.a,{textRight:!0},void 0,L(k.a,{href:"/forgot-password"},void 0,r.a.createElement(u.FormattedMessage,E.a.forgotpassword)))))))}}])&&A(a.prototype,n),i&&A(a,i),t}()}}]);
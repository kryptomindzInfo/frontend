(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"9a95f5dde785a8be389c":function(e,t,a){"use strict";a.r(t);var o,n=a("8af190b70a6bc55c6f1b"),r=a.n(n),i=a("bd183afcc37eabd79225"),c=a.n(i),s=a("e95a63b25fb92ed15721"),f=a("0d7f0986bcd2f33d8a2a"),d=a("7286e4d32da69e8d8af9"),u=a("ab039aecd4a1d4fedc0e"),l="boilerplate.containers.BankSetup",p=Object(u.defineMessages)({pagetitle:{id:"".concat(l,".pagetitle"),defaultMessage:"Sign In"},title:{id:"".concat(l,".title"),defaultMessage:""},userid:{id:"".concat(l,".userid"),defaultMessage:""},newpass:{id:"".concat(l,".newpass"),defaultMessage:""},confirm:{id:"".concat(l,".confirm"),defaultMessage:""},forgotpassword:{id:"".concat(l,".forgotpassword"),defaultMessage:""},update:{id:"".concat("boilerplate.containers.All",".update"),defaultMessage:""}}),b=a("cdaeeb3fcdd7b59dc673"),m=a("5eab5618c2f7cb367580"),g=a("8ac34887ece117b1abe9"),v=a("365f1f0df0c7eb1c6a39"),h=a("6fa8358498da34119718"),y=a("c0da21c8c30564c60a72"),w=a("4a58ef70613a2768a6b0"),S=a("3cfc5fe5ae5fc3fb28ab"),O=a("a5a6067b351c18817e3b"),M=a("c6ab63ffe46a1a0d4ebc"),k=a("80305d31256481b97990"),E=(a("2ef0388ad848e10584a5"),a("fcb99a06256635f70435")),I=a("041021065ead6515c7e1");a("18fd55adb10446515347");function P(e){return(P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t,a,n){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var c in r)void 0===t[c]&&(t[c]=r[c]);else t||(t=r||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),f=0;f<i;f++)s[f]=arguments[f+3];t.children=s}return{$$typeof:o,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function j(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"default",function(){return H}),d.toast.configure({position:"bottom-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});var q=localStorage.getItem("logged"),A=localStorage.getItem("username"),B=_(s.Redirect,{to:"/bank/dashboard"}),D=_(f.Helmet,{},void 0,_("meta",{charSet:"utf-8"}),_("title",{},void 0,"E-WALLET | INFRA | LOGIN")),N=_(g.a,{from:"infra"}),R=_(k.a,{href:"/forgot-password",float:"left"},void 0,_(b.a,{className:"material-icons"},void 0,"keyboard_backspace")),U=_(M.a,{disabled:!0},void 0,_(I.a,{})),H=function(e){function t(){var e,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,o=C(t).call(this),e=!o||"object"!==P(o)&&"function"!==typeof o?L(a):o,T(L(e),"success",function(){return d.toast.success(e.state.notification)}),T(L(e),"error",function(){return d.toast.error(e.state.notification)}),T(L(e),"warn",function(){return d.toast.warn(e.state.notification)}),T(L(e),"handleInputChange",function(t){var a=t.target,o=a.value,n=a.name;e.setState(T({},n,o))}),T(L(e),"setupUpdate",function(t){t.preventDefault(),e.state.password!=e.state.confirm?e.setState({notification:"Passwords do not match"},function(){e.error()}):(e.setState({otpLoading:!0}),c.a.post("".concat(E.a,"/infraSetupUpdate"),e.state).then(function(t){if(200!=t.status)throw t.data.error;localStorage.removeItem("logged"),localStorage.removeItem("name"),localStorage.removeItem("username"),e.setState({notification:"Details updated, you will be redirected to the login screen"},function(){e.success();var t=e.props.history;setTimeout(function(){t.push("/")},3e3)}),e.setState({otpLoading:!1})}).catch(function(t){e.setState({notification:t.response?t.response.data.error:t.toString(),otpLoading:!1},function(){e.error()})}))}),e.state={username:A,password:"",confirm:"",notification:"",loading:!0,redirect:!1,token:q},e.error=e.error.bind(L(e)),e}var a,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,n["Component"]),a=t,(o=[{key:"componentDidMount",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){function e(e){e.target.parentElement.querySelector("label").classList.add("focused")}function t(e){var t=e.target;""==t.value&&t.parentElement.querySelector("label").classList.remove("focused")}var a=this.state;a.loading;return a.redirect?B:_(m.a,{},void 0,D,N,_(v.a,{},void 0,_(h.a,{},void 0,R,r.a.createElement(u.FormattedMessage,p.pagetitle)),_(y.a,{},void 0,r.a.createElement(u.FormattedMessage,p.title)),_("form",{action:"",method:"POST",onSubmit:this.setupUpdate},void 0,_(w.a,{},void 0,_(S.a,{},void 0,_("label",{},void 0,r.a.createElement(u.FormattedMessage,p.newpass),"*"),_(O.a,{type:"password",name:"password",onFocus:e,onBlur:t,value:this.state.password,onChange:this.handleInputChange,required:!0})),_(S.a,{},void 0,_("label",{},void 0,r.a.createElement(u.FormattedMessage,p.confirm),"*"),_(O.a,{type:"password",name:"confirm",onFocus:e,onBlur:t,value:this.state.confirm,onChange:this.handleInputChange,required:!0}))),this.state.otpLoading?U:_(M.a,{},void 0,r.a.createElement(u.FormattedMessage,p.update)))))}}])&&j(a.prototype,o),i&&j(a,i),t}()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"0b8eb3e35929778b339a":function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return J});var r,n=a("8af190b70a6bc55c6f1b"),o=a.n(n),i=(a("bd183afcc37eabd79225"),a("e95a63b25fb92ed15721")),c=a("0d7f0986bcd2f33d8a2a"),s=a("7286e4d32da69e8d8af9"),u=a("ab039aecd4a1d4fedc0e"),d=a("5eab5618c2f7cb367580"),l=a("041021065ead6515c7e1"),f=a("8ac34887ece117b1abe9"),b=a("365f1f0df0c7eb1c6a39"),p=a("6fa8358498da34119718"),m=a("c0da21c8c30564c60a72"),g=a("14565c619a2b4ffb4425"),v=a("4a58ef70613a2768a6b0"),h=a("3cfc5fe5ae5fc3fb28ab"),y=a("a5a6067b351c18817e3b"),w=a("c6ab63ffe46a1a0d4ebc"),S=a("1338cbe09bd1ccd2eec5"),O=a("2ef0388ad848e10584a5"),E=a("80305d31256481b97990"),k=a("7b9702807589922aac12"),I=a("e8dc0c42b7e4d57650ea");a("18fd55adb10446515347");function P(e){return(P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t,a,n){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function x(e,t,a,r,n,o,i){try{var c=e[o](i),s=c.value}catch(e){return void a(e)}c.done?t(s):Promise.resolve(s).then(r,n)}function C(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var o=e.apply(t,a);function i(e){x(o,r,n,i,c,"next",e)}function c(e){x(o,r,n,i,c,"throw",e)}i(void 0)})}}function F(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}s.toast.configure({position:"bottom-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),localStorage.removeItem("logged");var q=localStorage.getItem("logged"),A=j(l.a,{fullPage:!0}),T=j(i.Redirect,{to:"/dashboard"}),B=j(c.Helmet,{},void 0,j("meta",{charSet:"utf-8"}),j("title",{},void 0,"E-WALLET | INFRA | SIGNIN")),N=j(f.a,{from:"infra"}),D=j(w.a,{disabled:!0},void 0,j(l.a,{})),H=j(O.a,{}),J=function(e){function t(){var e,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=R(t).call(this),e=!r||"object"!==P(r)&&"function"!==typeof r?_(a):r,M(_(e),"success",function(){return s.toast.success(e.state.notification)}),M(_(e),"error",function(){return s.toast.error(e.state.notification)}),M(_(e),"warn",function(){return s.toast.warn(e.state.notification)}),M(_(e),"handleInputChange",function(t){var a=t.target,r=a.value,n=a.name;e.setState(M({},n,r))}),M(_(e),"loginRequest",function(){var t=C(regeneratorRuntime.mark(function t(a){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loginLoading:!0}),t.next=4,Object(I.b)("login",q,e.state);case 4:0===(r=t.sent).data.data.status&&"Incorrect username or password"===r.data.data.message?s.toast.error(r.data.data.message):(localStorage.setItem("logged",r.data.data.token),localStorage.setItem("name",r.data.data.name),localStorage.setItem("isAdmin",r.data.data.isAdmin),window.location.href="/dashboard"),e.setState({loginLoading:!1});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),e.state={username:"",password:"",notification:"",loading:!0,redirect:!1},e.error=e.error.bind(_(e)),e}var a,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,n["Component"]),a=t,(r=[{key:"componentDidMount",value:function(){var e=C(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===q||null===q){e.next=4;break}this.setState({loading:!1,redirect:!0}),e.next=10;break;case 4:return e.next=6,Object(I.a)("checkInfra",q,{});case 6:t=e.sent,console.log(t),t.data.data.infras<=0&&this.props.history.push("/setup"),this.setState({loading:!1});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){function e(e){e.target.parentElement.querySelector("label").classList.add("focused")}function t(e){var t=e.target;""==t.value&&t.parentElement.querySelector("label").classList.remove("focused")}var a=this.state,r=a.loading,n=a.redirect;return r?A:n?T:j(d.a,{},void 0,B,N,j(b.a,{},void 0,j(p.a,{},void 0,o.a.createElement(u.FormattedMessage,k.a.pagetitle)),j(m.a,{},void 0,o.a.createElement(u.FormattedMessage,k.a.title)),j(g.a,{},void 0,o.a.createElement(u.FormattedMessage,k.a.subtitle)),j("form",{action:"",method:"POST",onSubmit:this.loginRequest},void 0,j(v.a,{},void 0,j(h.a,{},void 0,j("label",{},void 0,o.a.createElement(u.FormattedMessage,k.a.userid),"*"),j(y.a,{type:"text",name:"username",onFocus:e,onBlur:t,value:this.state.username.trim().toLowerCase(),onChange:this.handleInputChange,required:!0})),j(h.a,{},void 0,j("label",{},void 0,o.a.createElement(u.FormattedMessage,k.a.password),"*"),j(y.a,{type:"password",name:"password",onFocus:e,onBlur:t,value:this.state.password,onChange:this.handleInputChange,required:!0}))),this.loginLoading?D:j(w.a,{},void 0,o.a.createElement(u.FormattedMessage,k.a.pagetitle))),j(S.a,{marginTop:!0},void 0,H,j(O.a,{textRight:!0},void 0,j(E.a,{href:"/forgot-password"},void 0,o.a.createElement(u.FormattedMessage,k.a.forgotpassword))))))}}])&&F(a.prototype,r),i&&F(a,i),t}()}}]);